---
title: 읽기 좋은 코드가 좋은 코드다. (part 1. 표면적인 수준에서의 개선)
author: hslee
date: 2025-01-06
categories:
  - 개발기초
  - The art of Readable Code
tags:
  - 개발기초
  - 코드
render_with_liquid: false
---
**가독성의 기본 원리**

> 코드는 다른 사람이 그것을 이해하는 데 들이는 시간을 최소화하는 방식으로 작성되어야 한다.
> {: .prompt-tip }

## part 1. 표면적인 수준에서의 개선
### 특정 단어 고르기
***특정 단어로 하여금 여러가지 단어가 있다***
```example
	send	-> deliver,dispatch,announce.distribute,route
	find 	-> search,extract,locate,recover
	start	-> launch, create, begin, open
	make	-> create, set up, build, generate, compose, add, new
```
의미를 잘 전달할 수 있는 단어를 선택하자

### 재치 있는 이름보다 명확하고 간결한 이름이 더 좋다
***단순히 결과를 return 하는 값을 `result, data, retval` 로 짓지 말자***
- 목적이나 담고있는 값에 관련된 이름으로 짓자 즉 변수값을 설명하는 이름을 사용하라!!
- 임시적 존재 자체가 변수의 가장 중요한 용도일때 사용 tmp

***대상을 자세히 묘사하는 구체적인 이름을 이용하라***
- 변수에 중요한 세부 정보를 덧붙여라
```example
미리초를 저장하는 변수 뒤에 runCount_ms 
UTF 인코딩시 file_utf8
```
- 대문자나 밑줄 등을 의미 있는 방식으로 활용
```example
클래스 멤버는 CamelCase 로컬 변수는 뒤에 _ 붙이는 등 
Jquery 결과값 저장시 앞에 $붙이기 등
```
#### 추가 설명
- 추상적인 이름보다 구체적인 이름을 선호하라
- 추가적인 정보를 이름에 추가하기
	1. 단위를 포함하는 값들
	2. 다른 중요한 속성 `ex) password -> plaintext_password (암호화필요)

### 사용 범위가 넓으면 긴 이름을 사용하라
여러 페이지에 걸쳐서 사용되는 변수의 이름을 하나 혹은 두개의 짧은 문자로 구성해 의미를 알아보기 힘들게 짓지 말라
>다만 적은 분량(좁은 범위)에서 잠깐 사용되는 변수명은 짧을 수록 좋다

> 언제나 의미가 오해되지 않는 이름이 최선의 이름이다. but 모호한 단어가 많다.
> 어떤 이름을 정하기 전에 항상 최악의 경우를 가정하라.
{: .prompt-tip }

> - 경계를 포함하는 ==***한계값***==을 다룰 떄는 max / min `ex) > <`
> - 경계를 포함하는 ==***범위***== 를 다룰떄는 first / last `ex) >= <=`
> - 경계를 ==***포함하고/배제하는***== 범위에는 begin / end `ex) a <= val < b `
> - 불리언변수, 불리언 값을 반환하는 함수에는
>	- 명확하게 true false로 구분되야하며 이름만 보고 true false를 반환할 것 처럼 
>	  `ex) is, has, can, should`
>	 - 의미를 부정하는 용어는 피하자! `ex) disable`
> - 일반적으로 생각하는 사실의 유의! 
> `ex) get() size() 가벼워 보이지만 많은 연산을 하는 경우`
{: .prompt-tip }

### 미학
미학적으로 보기 좋은 코드가 사용하기 더 편리하다
1. 일관성과 간결성을 위해서 줄 바꿈을 재정렬
2. 메소드를 활용하여 불규칙성을 정리하라 
3. 도움이 된다면 코드의 열을 맞춰라
4. 의미 있는 순서를 선택하고 일관성 있게 사용하라
	- 변수의 순서를 HTML 폼에 있는 `<input>` 필드의 순서대로 나열하라
	- ===가장 중요한것===에서 시작해서 ===가장 덜 중요한 것===까지 순서대로 나열하라
	- 알파벳 순서대로 나열하라
5. 선언문을 블록으로 구성하라 `ex) //유틸리티 //핸들러들 //DB관련`
6. 코드를 ***문단***으로 쪼개라
	- 비슷한 생각을 하나로 묶어서, 성격이 다른 생각과 구분한다.
	- 문단은 '시각적 디딤돌' 역할을 수행한다. 문단이 없으면 하나의 펭이지 안에서 읽던 부분을 놓치기 쉽다
	- 하나의 문단에서 다른 문단으로의 전진을 촉진시킨다.
7. 개인적인 스타일 대 일관성 일관성 승! `개인적인 스타일도 일관성이 있다면 뭐... not bad`
> - 여러 블록에 담긴 코드가 모두 비슷한 일을 수행하면, 실루엣이 동일해 보이게 만들어라.
> - 코드 곳곳을 '열'로 만들어서 줄을 맞추면 코드를 한 눈에 훑어보기 편하다.
> - 코드의 한 곳에서 A, B, C가 이순서대로 언급되고 있으면, 다른 곳에서 B, C, A와 같은 식으로 언급 하지 말라. 의미 있는 순서를 정하여 모든 곳에서 그 순서를 지켜라.
> - 빈 줄을 이용하여 커다란 블록을 논리적인 '문단'으로 나누어라.
{: .prompt-tip }

### 주석
`주석의 목적은 코드를 읽는 사람이 코드를 작성한 사람만큼 코드를 잘 이해하게 돕는 데 있다.`
`즉 코드를 처음으로 읽는 외부인의 입장에 자기 자신을 놓는 기법`
#### Bad 주석의 예
1. 코드 자체에서 재빨리 도출될 수 있는 사실
```example
// 첫번 째 '.' 뒤에 오는 내용을 모두 제거한다
name = '.'.join(line.split('.')[:1])
```
2. 나쁜 함수명과 같이 나쁘게 작성된 코드를 보정하려는 주석 **X**
	그렇게 하는 대신 코드를 수정하라!

#### 기록해야 하는 주석
1. 코드가 특정한 방식으로 작성된 이유를 설명해주는 내용 (감독의 설명)
	`just 코딩할 때 생각했던 중요한 생각을 기록	`

2. 코드에 담긴 결함, TODO: 혹은 XXX:와 같은 표시를 사용

| **표시** | **보통의 의미**|
| ------ | ----------------- |
| TODO:  | 아직 하지 않은 일        |
| FIXME: | 오동작을 일으킨다고 알려진 코드 |
| HACK:  | 아름답지 않은 해결책       |
| XXX:   | 위험! 여기 큰 문제가 있다   |

3. 어떤 상수가 특정한 값을 갖게 된 '사연'
```example
// 크기/해상도 대비 최적의 세팅
image_quality = 0.72;
```

#### + 추가 고려 사항
- 코드를 읽는 사람이 자기가 작성한 코드의 어느 부분을 보고 '뭐라고?'라는 생각을 할지 예측해보고, 그 부분에 해답을 추가하라.
`// 외부 라이브러리를 호출하여 이메일 서비스를 호출한다 (1분 후 타임아웃 된다.)`
- 평범한 사람이 예상하지 못할 특이한 동작은 기록하라.
`// 실행 시간이 O(n) 이므로 중첩 입력을 사용할떄는 주의해야한다`
- 파일이나 클래스 수준 주석에서 '큰 그림'을 설명하고 각 조각이 어떻게 맞춰지는지 설명하라.
```example
/*
* 비지니스 로직과 데이터베이스를 연결해주는 코드입니다.
* 복잡해 보이지만 스마트 캐시입니다. 다른 부분에서 쓰이는 곳은 없습니다
*/
```
- 코드에 블록별로 주석을 달아 세부 코드를 읽다가 나무만 보고 숲은 못 보는 실수를 저지르지 마라
```
# 고객의 플레이 리스트 중 가장 많이 들은 순서대로 모두 찾는다.
for...
for... 어쩌구..
# 정보를 파일에 작성한다.
...
#사용자를 위한 lock을 돌려놓는다.
...
```

> 1. 마음에 떠오르는 생각을 무조건 적어본다
> 2. 주석을 읽고 무엇이 개선되어야 하는지 (그런 부분이 있다면) 확인한다.
> 3. 개선한다.
{: .prompt-tip }

#### 명확하고 간결한 주석
- 'it'이나 'this' 같은 대명사가 여러 가지를 가르킬 수 있다면 사용하지 않는 것이 좋다.
- 함수의 동작을 실제로 할 수 있는 한도 내에서 최대한 명화하게 설명하라.
- 신중하게 선택된 입/출력 예로 주석을 서술하라.
- 코드가 가진 의도를 너무 자세한 내용이 아니라 높은 수준에서 개괄적으로 설명하라.
- 같은 줄에 있는 주석으로 `ex) Function(/* arg= */ ...)` 의미가 불문명한 함수의 인수를 설명하라.
- 많은 의미를 함축하는 단어로 주석을 간단하게 만들라.